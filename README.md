# 미디어 파일명 표준화 도구 (media-shotdate-renamer)

## 1. 목적

`media-shotdate-renamer`는 대량의 미디어 파일(사진/동영상)의 파일명을 **촬영일(메타데이터)**, **카메라 정보**, 그리고 **원본 파일명의 `IMG_<식별번호>` 패턴**을 활용하여 표준화하는 도구입니다. 원본 파일은 변경하지 않으며, 조건을 만족하는 파일만 지정된 결과 폴더에 표준화된 파일명으로 복사 생성합니다. [cite: 1.1]

## 2. 사용법 (예정)

1.  프로그램 실행 후, GUI에서 원본 미디어 파일이 있는 **소스 폴더**를 선택합니다.
2.  [변환 시작] 버튼을 클릭합니다.
3.  프로그램은 선택된 소스 폴더의 하위 폴더를 재귀적으로 탐색하며 대상 파일을 수집합니다.
4.  각 파일에 대해 촬영일, 카메라 정보, 파일명 패턴 등을 분석하여 표준 파일명으로 변환하거나, 이미 표준화된 파일인 경우 그대로 복사합니다.
5.  모든 작업이 완료되면 팝업 메시지가 표시되며, "결과 폴더 열기" 버튼을 통해 처리된 파일이 저장된 폴더를 바로 확인할 수 있습니다.

**결과 파일명 형식:** `YYYY-MM-DD_HH-MM-SS_<식별번호>_<카메라>.<ext>` [cite: 1.2]
**결과 저장 경로:** `[SourceRoot]/result/YYYY-MM-DD/<결과 파일>` (원본 폴더 구조는 유지되지 않고 날짜별로 평탄화되어 저장됩니다.) [cite: 1.2, 4.6]

## 3. 주의사항 및 제한사항

*   **원본 파일 비파괴**: 본 프로그램은 원본 파일을 절대 수정, 삭제, 또는 이름을 변경하지 않습니다. 모든 작업은 결과 폴더에 파일을 **복사 생성**하는 방식으로 이루어집니다. [cite: 3.1, 5.2]
*   **메타데이터 쓰기/수정 불가**: 파일의 메타데이터를 읽기만 하며, 메타데이터를 쓰거나 수정하는 기능은 제공하지 않습니다. [cite: 3.2]
*   **시간대(Timezone) 처리**: 메타데이터에 기록된 시간대 오프셋 유무와 상관없이 촬영일 정보는 **원문 그대로** 사용하며, 별도의 변환이나 보정은 수행하지 않습니다. [cite: 4.3]
*   **촬영일 없는 파일 스킵**: 메타데이터에서 유효한 촬영일 정보를 찾을 수 없는 파일은 결과 폴더에 저장되지 않고 스킵됩니다. 이 경우 사용자 로그에 해당 파일 정보와 스킵 사유가 기록됩니다. [cite: 4.3]
*   **`IMG_` 패턴**: 파일명이 `IMG_<식별번호>` 패턴을 따르지 않는 파일은 표준 파일명으로 변환되지 않고 스킵됩니다. [cite: 4.4]
*   **GUI 프리징 방지**: 수천 장 이상의 대량 파일 처리 시에도 GUI가 멈추지 않도록 백그라운드 워커 스레드 방식으로 구현됩니다. [cite: 3.1, 5.1]
*   **결정성/멱등성**: 동일한 입력에 대해 항상 동일한 결과가 나오도록 파일 목록은 정렬되며, 이미 결과 폴더에 동일한 파일이 존재할 경우 중복 생성을 방지하기 위해 스킵됩니다. [cite: 5.3, 4.7]

## 4. 지원 확장자

본 프로그램이 지원하는 미디어 파일 형식은 다음과 같습니다. 결과 파일의 확장자는 모두 소문자로 통일됩니다. [cite: 4.2]

*   **이미지**: `.jpg`, `.jpeg`, `.png`, `.heic`, `.cr3`, `.dng`, `.gif`
*   **동영상**: `.mp4`, `.mov`

## 5. 로깅

모든 작업 내역은 `[SourceRoot]/result/run.log` 파일에 한글로 기록됩니다. [cite: 4.8]
파일 처리 중 예외가 발생한 경우, 상세한 오류 내용은 `[SourceRoot]/result/error.log` 파일에 기록됩니다. [cite: 4.8]

## 6. 개발 환경 및 배포

*   **플랫폼**: Windows
*   **GUI**: `tkinter`
*   **메타데이터 엔진**: ExifTool (번들 포함, 별도 설치 불필요)
*   **배포**: PyInstaller를 통해 단일 실행 파일 형태로 배포됩니다.
